<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F45b4de35-e668-4501-b8cd-711c64060c4e%2F5296676_ocean_sea_splash_surf_water_icon.png?table=collection&amp;id=6203be97-46d6-4bfc-9ce6-4457199ab784">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>村八分&nbsp;|&nbsp;RadioHeadache</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="村八分">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🧻&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F45b4de35-e668-4501-b8cd-711c64060c4e%2F5296676_ocean_sea_splash_surf_water_icon.png?table=collection&amp;id=6203be97-46d6-4bfc-9ce6-4457199ab784"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="iOS-Dev-Articles.html">
        <div class="Navbar__Btn">
          
          <span>📱iOS Articles</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="daily-logs.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🔖&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Daily Log</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="newsletter.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📟&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Newsletter</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🧻&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">村八分</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Fri, Nov 5, 2021</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--default">
            <a href="tag/Daily-Log.html">Daily-Log</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/4f6d30464112453ab14742a1cc9431d0" class="PageRoot"><ul id="https://www.notion.so/f6795fe164684063b70156e655be51f7" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/ea34b36e73924865b95bdf1ac717dbb2"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">村八分</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/20116f205ec849bf8ba550e3e3e57c4d"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">关联资料</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2abb60ace5c44a07a1a38db152155dfd"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Professional Musician React Sweet Child o Mine</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/052f6a9234234fe6805a6a5e18b09965"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">今日的 Java 学习</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0243b4ed151f477a881932e5b346161f"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">protected</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/834bd201c37f4d18ac926d8a77d3affe"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">阻止继承和 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sealed</code></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8301373b72e44d69bf560f770eb9fc86"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">instanceof</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/28f6d9655ed546e491ae1dce4ac7fcaf"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">final</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e05be423881446f9bfad2019224b8e2a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">小结</span></span></div></a></li></ul><h1 id="https://www.notion.so/ea34b36e73924865b95bdf1ac717dbb2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/ea34b36e73924865b95bdf1ac717dbb2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">村八分</span></span></h1><div id="https://www.notion.so/8faa7637e010439c9fa42dbe6381b50a" class="Bookmark"><a href="https://pca.st/he4t0oym"><h5 class="Bookmark__Title">【番外】梵一如X李淼：从罪案研究角度解读日本社会的底色 - 东亚观察局</h5><p class="Bookmark__Desc">《东亚观察局》是由主播梵一如、沙青青、权小星三人为固定成员的对谈聊天节目，聚焦以中日韩三国为核心的&quot;东亚地区&quot;的热点话题、文化现象以及历史趣闻。</p><p class="Bookmark__Link">https://pca.st/he4t0oym</p></a></div><div id="https://www.notion.so/f5a0280b14934decb71e26ab6528381a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">今天听这一期，里面聊到了日本村落的一个行为：</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">村八分</strong></span><span class="SemanticString">。</span></span></p></div><div id="https://www.notion.so/d669c304203b4e909640f38682e3f095" class="Bookmark"><a href="https://zh.wikipedia.org/wiki/%E6%9D%91%E5%85%AB%E5%88%86"><h5 class="Bookmark__Title">村八分 - 维基百科，自由的百科全书</h5><p class="Bookmark__Desc">根據語言學者 楳垣実表示，村八分的內容是將人們共同生活的十件重要事情中，除了協助 埋葬（ 屍體放置的話會有 屍臭甚至引發 傳染病）、以及滅火（置之不理的話會延燒）這兩件事情如果置之不理會將造成他人困擾外，剩下的八件事情（ 成人禮、 結婚、 生產 、照顧病人、房屋改建、水災時的照顧、每年的祭拜法事、旅行）完全不進行交流及協助。 松本清張所著推理小說《 砂之器 》的電視劇版，劇情曾對此傳統所造成的社會問題進行深刻的討論。 明治 年代後，一般認定村八分為違反人權的違法行為。 二戰後日本的鄉下地方依舊有村八分行為，較為知名的是1952年靜岡縣富士郡上野村（現 富士宮市 ）的一名女高中生舉發參議員補選時，村民們的違法行為，全家遭到村八分對待（）。</p><p class="Bookmark__Link">https://zh.wikipedia.org/wiki/%E6%9D%91%E5%85%AB%E5%88%86</p></a></div><h2 id="https://www.notion.so/20116f205ec849bf8ba550e3e3e57c4d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/20116f205ec849bf8ba550e3e3e57c4d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">关联资料</span></span></h2><div id="https://www.notion.so/9314de778b8241b08ac46862ac950af9" class="Bookmark"><a href="https://zh.wikipedia.org/wiki/%E6%B4%A5%E5%B1%B1%E4%BA%8B%E4%BB%B6"><h5 class="Bookmark__Title">津山事件 - 维基百科，自由的百科全书</h5><p class="Bookmark__Desc">津山事件或稱為 津山三十人屠殺事件，是於1938年5月21日凌晨，於 日本的 岡山縣 苫田郡西加茂村大字行重（現在的 津山市）貝尾及坂本兩個部落的 大量殺人事件。該事件中含 自殺 的犯人共有31人死亡，另有3人輕重傷。 這事件一般稱作津山事件，但案發地其實是在津山市外的西加茂村，但由於 市町村合併的緣故，該村現在歸津山市管轄。也有人以犯人的名字稱為 都井睦雄事件 。事發時犯人年僅22歲。 ...</p><p class="Bookmark__Link">https://zh.wikipedia.org/wiki/%E6%B4%A5%E5%B1%B1%E4%BA%8B%E4%BB%B6</p></a></div><h1 id="https://www.notion.so/2abb60ace5c44a07a1a38db152155dfd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/2abb60ace5c44a07a1a38db152155dfd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Professional Musician React Sweet Child o Mine</span></span></h1><div id="https://www.notion.so/e770cb967a4a40529aa7f52d4dd2513c" class="Bookmark"><a href="https://www.youtube.com/watch?v=62Iy5fU4_y8"><h5 class="Bookmark__Title">Was @Guns N&#x27; Roses a JOKE?</h5><p class="Bookmark__Desc">@Guns N&#x27; Roses have been the butt of a lot of jokes. There are some hard truths about the band that we want to explore in this episode, that dissects the ico...</p><p class="Bookmark__Link">https://www.youtube.com/watch?v=62Iy5fU4_y8</p></a></div><div id="https://www.notion.so/ca52a8e83fe24b04adfb0108d0e28de1" class="Divider"></div><h1 id="https://www.notion.so/052f6a9234234fe6805a6a5e18b09965" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/052f6a9234234fe6805a6a5e18b09965"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">今日的 Java 学习</span></span></h1><div id="https://www.notion.so/55aeacf4aa2f4066aa87df7e197973eb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Java 使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">extends</code></span><span class="SemanticString">关键字来实现继承</span></span></p></div><h3 id="https://www.notion.so/0243b4ed151f477a881932e5b346161f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/0243b4ed151f477a881932e5b346161f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">protected</span></span></h3><div id="https://www.notion.so/24f6a36257ca4bbfb8638415e121d6b4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">继承有个特点，就是子类无法访问父类的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">private</code></span><span class="SemanticString">字段或者</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">private</code></span><span class="SemanticString">方法。例如，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Student</code></span><span class="SemanticString">类就无法访问</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Person</code></span><span class="SemanticString">类的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">name</code></span><span class="SemanticString">和</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">age</code></span><span class="SemanticString">字段：</span></span></p></div><pre id="https://www.notion.so/48b625a18842401b8ed7a2826072964e" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>class Person {
    private String name;
    private int age;
}

class Student extends Person {
    public String hello() {
        return &quot;Hello, &quot; + name; // 编译错误：无法访问name字段
    }
}</span></span></span></code></pre><div id="https://www.notion.so/f86116361d4649f9b6fa6c49592c1441" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这使得继承的作用被削弱了。为了让子类可以访问父类的字段，我们需要把</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">private</code></span><span class="SemanticString">改为</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">protected</code></span><span class="SemanticString">。用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">protected</code></span><span class="SemanticString">修饰的字段可以被子类访问：</span></span></p></div><pre id="https://www.notion.so/cd79890842174bc19f73239ccbe1a125" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>class Person {
    protected String name;
    protected int age;
}

class Student extends Person {
    public String hello() {
        return &quot;Hello, &quot; + name; // OK!
    }
}</span></span></span></code></pre><div id="https://www.notion.so/2ff0281af0de438786a574afd59cc8d1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">因此，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">protected</code></span><span class="SemanticString">关键字可以把字段和方法的访问权限控制在继承树内部，一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">protected</code></span><span class="SemanticString">字段和方法可以被其子类，以及子类的子类所访问，后面我们还会详细讲解。</span></span></p></div><h3 id="https://www.notion.so/834bd201c37f4d18ac926d8a77d3affe" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/834bd201c37f4d18ac926d8a77d3affe"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">阻止继承和 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sealed</code></span></span></h3><div id="https://www.notion.so/daabcd52202a4b28bb99ea94ebb6ab92" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">正常情况下，只要某个 class 没有</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">修饰符，那么任何类都可以从该 class 继承。</span></span></p></div><div id="https://www.notion.so/a9ce69ef8e3b484a8fb46d937d36065d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">从 Java 15 开始，允许使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sealed</code></span><span class="SemanticString">修饰 class，并通过</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">permits</code></span><span class="SemanticString">明确写出能够从该 class 继承的子类名称。</span></span></p></div><div id="https://www.notion.so/420eaeb1b7df4a7abc310af66b645256" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">例如，定义一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Shape</code></span><span class="SemanticString">类：</span></span></p></div><pre id="https://www.notion.so/11d03433571e44039c8bd493b42cfa6a" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public sealed class Shape permits Rect, Circle, Triangle {
    ...
}

</span></span></span></code></pre><div id="https://www.notion.so/be443eb38b2f473d8b237c6f41451014" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">上述</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Shape</code></span><span class="SemanticString">类就是一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sealed</code></span><span class="SemanticString">类，它只允许指定的 3 个类继承它。如果写：</span></span></p></div><pre id="https://www.notion.so/72d95c49ca8842098b57a23ee81435c9" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public final class Rect extends Shape {...}

</span></span></span></code></pre><div id="https://www.notion.so/2bdd732c39604060866e86518997241a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">是没问题的，因为</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Rect</code></span><span class="SemanticString">出现在</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Shape</code></span><span class="SemanticString">的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">permits</code></span><span class="SemanticString">列表中。但是，如果定义一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Ellipse</code></span><span class="SemanticString">就会报错：</span></span></p></div><pre id="https://www.notion.so/5fd83d1543bb49c29af1c2ab132e5752" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public final class Ellipse extends Shape {...}


</span></span></span></code></pre><div id="https://www.notion.so/260ce8637877457c8274bb352f482f10" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">原因是</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Ellipse</code></span><span class="SemanticString">并未出现在</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Shape</code></span><span class="SemanticString">的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">permits</code></span><span class="SemanticString">列表中。这种</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sealed</code></span><span class="SemanticString">类主要用于一些框架，防止继承被滥用。</span></span></p></div><div id="https://www.notion.so/52da1c2b36db4b4fbb84ee2ee5f0dcde" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sealed</code></span><span class="SemanticString">类在 Java 15 中目前是预览状态，要启用它，必须使用参数</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">--enable-preview</code></span><span class="SemanticString">和</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">--source 15</code></span><span class="SemanticString">。</span></span></p></div><h3 id="https://www.notion.so/8301373b72e44d69bf560f770eb9fc86" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/8301373b72e44d69bf560f770eb9fc86"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">instanceof</span></span></h3><div id="https://www.notion.so/2fb4538934644b268415c06477d61f3e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">从Java 14开始，判断</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">instanceof</code></span><span class="SemanticString">后，可以直接转型为指定变量，避免再次强制转型。例如，对于以下代码：</span></span></p></div><pre id="https://www.notion.so/4855da24f0b146e29163fec08684473e" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>Object obj = &quot;hello&quot;;
if (objinstanceof String) {
    String s = (String) obj;
    System.out.println(s.toUpperCase());
}
</span></span></span></code></pre><div id="https://www.notion.so/dfa8ed0a0ef74e70ab2895d4cf3e7de8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可以改写如下：</span></span></p></div><pre id="https://www.notion.so/4e186fa71bc64df2a39b4d1543a1e1bc" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class Main {
    public static void main(String[] args) {
        Object obj = &quot;hello&quot;;
        if (obj instanceof String s) {
            // 可以直接使用变量s:
            System.out.println(s.toUpperCase());
        }
    }
}</span></span></span></code></pre><h3 id="https://www.notion.so/28f6d9655ed546e491ae1dce4ac7fcaf" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/28f6d9655ed546e491ae1dce4ac7fcaf"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">final</span></span></h3><div id="https://www.notion.so/5bf76874077e47758deab044fe6629b8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">对于一个类的实例字段，同样可以用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">修饰。用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">修饰的字段在初始化后不能被修改。例如：</span></span></p></div><pre id="https://www.notion.so/7d712793e5cd4a6a854f1db5609c7277" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>classPerson {publicfinal String name = &quot;Unamed&quot;;
}
</span></span></span></code></pre><div id="https://www.notion.so/8e5a5df05bd042ccae91f36ae6f2fd0a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">对</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">字段重新赋值会报错：</span></span></p></div><pre id="https://www.notion.so/df3eae2e36534c5b9bf49f9ca03b2463" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>Person p =new Person();
p.name = &quot;New Name&quot;;// compile error!</span></span></span></code></pre><div id="https://www.notion.so/2a45bd9f3a4342e1a0f2f48e23593847" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可以在构造方法中初始化final字段：</span></span></p></div><pre id="https://www.notion.so/33811f59ccfb4c2ab5c7d0f2574ef334" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>classPerson {publicfinal String name;
public Person(String name) {
this.name = name;
    }
}
</span></span></span></code></pre><div id="https://www.notion.so/63a86aafdf4c4a32bfa3494e13b1505a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这种方法更为常用，因为可以保证实例一旦创建，其</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">字段就不可修改。</span></span></p></div><h3 id="https://www.notion.so/e05be423881446f9bfad2019224b8e2a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e05be423881446f9bfad2019224b8e2a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">小结</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/66b76bc0701846579c959efe52c88972" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">子类可以覆写父类的方法（Override），覆写在子类中改变了父类方法的行为；</span></span></li><li id="https://www.notion.so/ea0714c73d7443b99e10dbbbf27e0e76" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Java的方法调用总是作用于运行期对象的实际类型，这种行为称为多态；</span></span></li><li id="https://www.notion.so/b977861c3fd248da9e146379d2809f09" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">修饰符有多种作用：</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/6d2ab5dc356d41babd3a36a0f8fa3b58" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">修饰的方法可以阻止被覆写；</span></span></li><li id="https://www.notion.so/e335ec3d67634c0fa4b786ff28cbf180" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">修饰的class可以阻止被继承；</span></span></li><li id="https://www.notion.so/959f319621654047926d63fd24880a6e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">final</code></span><span class="SemanticString">修饰的field必须在创建对象时初始化，随后不可修改。</span></span></li></ul></li></ul></article>
  <footer class="Footer">
  <div>&copy; RadioHeadache 2019-2021</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>